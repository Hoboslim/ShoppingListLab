

name: testrunner

on:
  workflow_dispatch:
  push:
    branches: [ "main", "master" ]
  pull_request:
    branches: [ "main", "master" ]
jobs:
  build:
    runs-on: ${{ matrix.os }}
    strategy:
      matrix:
        os: [ubuntu-latest, windows-latest]
        version: [9.0, 8.0]
    steps:
      - name: Checkout code
        uses: actions/checkout@v5
    
      - name: Setup .NET
        uses: actions/setup-dotnet@v5.0.0
        with:
          dotnet-version: ${{ matrix.version }}

      - name: Build Solution
        run: dotnet build
        
      - name: Run Test 
        if: success()
        run: dotnet test

      - name: Runs only if pr
        if: github.event_name == 'pull_request'
        run: |
          echo "Repository: ${{ github.repository }}"
          echo "Triggered by: ${{ github.event_name }}"
          echo "Actor: ${{ github.actor }}"
          echo "Run number: ${{ github.run_number }}"
          github.event.head_commit.addded

      - name: Runs only if push
        if: github.event_name == 'push'
        run: |
          echo "Actor: ${{ github.actor }}"
          echo "Commit message: ${{ github.message }}"
          echo "Run number: ${{ github.event.head_commit.addded }}"

      - name: Runs only if manual 
        if: github.event_name == 'workflow_dispatch'
        run: |
          echo "Actor: ${{ github.actor }}"
          echo "inputs: ${{ github.event.inputs.id }}"
          


          //Vid PR: visa PR number, author, source/target branch
          //Vid push: visa commit message, author, changed files (om m√∂jligt)
          //Vid manuell: visa vem som startade och med vilka inputs

  
      
